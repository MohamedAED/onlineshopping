<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Shopping Cart</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" th:src="@{/js/cart.js}"></script>
    <style>
    .re{
    width:300px;
    }
    .max{
    	width:500px;
    }
    </style>
</head>

<body>
	
<section>
    <div class="pull-right" style="padding-right:50px">
        <a th:href="@{/}">Products</a> | <a th:href="@{/shoppingCart(buyerId=${buyerId})}">Shopping Cart</a>
    </div>
</section>

<section>
    <div class="jumbotron">
        <div class="container">
            <h1>Shopping Cart</h1>
        </div>
    </div>
</section>

<input type="hidden" id="buyerId" name="buyerId" th:value="${buyerId}" />
	
<section class="container">
	<div id="global">
	    <form action="#" th:action="@{/shoppingCart}" method="post" enctype="multipart/form-data">
	    	<fieldset>
	    		<table class="table table-hover" border=1 frame=void rules=rows>
	    			<tr>
				      	<th></th>
				      	<th></th>
				      	<th style="text-align:right;" >Price</th>
				    </tr>
				    <tr th:each="item : ${cartItems}">
				    	<td><img th:src="@{'/product/' + ${item.value.product.id} + '.png'}" width="200" height="100"/></td>
                           <td>
                            <table>
	                            <tr><td class="max" th:text="${item.value.product.description}">Description</td>   
                                   </tr>
	                            <tr><td th:text="${item.value.product.stockQuantity}">Stock Quantity</td></tr>
	                            <tr>
	                            	<td>
	                            		<table>
		                            		<tr>
		                            			<td th:text="${item.value.quantity}">Item Quantity</td>
	                                            <td>&nbsp;&nbsp;|&nbsp;&nbsp;</td>
                                            	<td><a href="#" class="label label-danger product-remove-btn" th:data="${item.value.product.id}">
                      								<span class="glyphicon glyphicon-remove" /></span> Delete </a></td>
                      							<td>&nbsp;&nbsp;|&nbsp;&nbsp;</td>
                                            	<td><a href="#" class="label label-success product-order-btn" th:data="${item.value.product.id}" id="product-order-btn" name="product-order-btn">
                      								<span class="glyphicon glyphicon-plus" /></span> Add to Cart </a></td>
                                        	</tr>
                                       </table>
                                       </td>
								</tr>
                            </table>
                           </td>		      	
				      	<td style="vertical-align:top;text-align:right" th:text="${item.value.product.price}">Price</td> 
				    </tr>
				    <tr>
                       	<td></td>
                        <td></td>
                        <td>
                       		<label for="shoppingCartTotalPrice"><span th:text="#{shoppingCart.form.totalPrice}">Subtotal :</span></label>
                           	<label id="shoppingCartTotalPrice" th:text="${shoppingCart.totalPrice}">0</label>
                        </td>
                       </tr>
				</table>
	    	</fieldset>
	    </form>
	    <div>
	    	<a th:href="@{/}" class="btn btn-default"><span class="glyphicon-hand-left glyphicon"></span> Continue shopping </a>
            <a th:href="@{/order(buyerId=${buyerId})}" class="btn btn-success pull-right"> <span class="glyphicon-shopping-cart glyphicon"></span> Check out</a>
        </div>
	</div>
</section>
</body>
</html>